#!/bin/bash

session_type=${XDG_SESSION_TYPE:-x11}
imagefile="/usr/local/share/backgrounds/Braunwald_switzerland.png"

if [ "$session_type" == "wayland" ]; then
    # we don't need to lock if we have encryption since goes through encryption startup
    # swaylock -f -i "$imagefile" && systemctl hibernate
    systemctl hibernate
else
    fuzzy_lock
    sleep 1
    systemctl hibernate
fi
