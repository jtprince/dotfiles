#!/usr/bin/env python

import argparse
import os
import subprocess

dev_prefix = os.path.join(os.path.expanduser("~"), 'dev')
build_prefix = "/home/build"

parser = argparse.ArgumentParser()
parser.add_argument("target", help='the local file to gvim')
args = parser.parse_args()

target = args.target

if os.path.isfile(target):
    remote_path = os.path.abspath(target).replace(dev_prefix, build_prefix)
else:
    # create virtual path from pwd and target
    remote_path = os.path.join(os.getcwd(), target)

print("HIYA")
print(remote_path)

cmd = ['gvim', os.environ['RMTSCP'] + '/' + remote_path]
print(" ".join(cmd))

#subprocess.call(cmd)
